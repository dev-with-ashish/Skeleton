{% doc %}
  @prompt
    generate a service section best and clean service section shocansing all this service in list format in blocks when hoverd or clicked or. touch should show a image in square format in a horizontal row :  Events
    
     Promotions & Activations
    
     Films / 3D Animatics
    
      Expos & Exhibitions
    
      Retail & Display
    
     Dealer & Customer Meets 
     Press Conferences
    
     Product & Services Launches
    
     Design & Communication
    
     Thematic dinners & Parties
    
     Government Services   MICE & destination management
    
      International shows
    
     Concerts & Bollywood shows
    
     Artist & Data Management
    
     Wedding & Special Occasions
    
     Online & Digital Media, on the left showing list having max 5 items in multiple slides with arrow navigation on the right image both image and list block with same height, keep every thing as it is all hover and every option just add service item selectd background and service item selected border option too and for mobile too, when a item is selected slected color should be shown to the selected but hovered color and hovered image as previously for hover

{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-services-section-{{ ai_gen_id }} {
    display: flex;
    max-width: 100%;
    background-color: {{ block.settings.background_color }};
    border-radius: {{ block.settings.border_radius }}px;
    overflow: hidden;
    min-height: {{ block.settings.section_height }}px;}

  .ai-services-list-container-{{ ai_gen_id }} {
    flex: 1;
    position: relative;
    background-color: {{ block.settings.list_background_color }};
    display: flex;
    flex-direction: column;
  }

  .ai-services-list-wrapper-{{ ai_gen_id }} {
    flex: 1;
    overflow: hidden;
    position: relative;
  }

  .ai-services-list-{{ ai_gen_id }} {
    display: flex;
    flex-direction: column;
    height: 100%;
    transition: transform 0.3s ease;
  }

  .ai-service-item-{{ ai_gen_id }} {
    padding: {{ block.settings.item_padding }}px;
    border-bottom: 1px solid {{ block.settings.item_border_color }};
    cursor: pointer;
    transition: all 0.3s ease;
    background-color: {{ block.settings.item_background_color }};
    color: {{ block.settings.item_text_color }};
    font-size: {{ block.settings.item_font_size }}px;
    border-left: 4px solid transparent;
    display: flex;
    align-items: center;
    min-height: calc({{ block.settings.section_height }}px / 5);
  }

  .ai-service-item-{{ ai_gen_id }}:hover {
    background-color: {{ block.settings.item_hover_background }};
    color: {{ block.settings.item_hover_text_color }};
    border-left-color: {{ block.settings.item_hover_border_color }};
  }

  .ai-service-item-{{ ai_gen_id }}.selected {
    background-color: {{ block.settings.item_selected_background }};
    color: {{ block.settings.item_selected_text_color }};
    border-left-color: {{ block.settings.item_selected_border_color }};
  }

  .ai-service-item-{{ ai_gen_id }}:last-child {
    border-bottom: none;
  }

  .ai-services-navigation-{{ ai_gen_id }} {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    padding: 15px;
    background-color: {{ block.settings.list_background_color }};
  }

  .ai-nav-button-{{ ai_gen_id }} {
    background-color: {{ block.settings.nav_button_color }};
    color: {{ block.settings.nav_button_text_color }};
    border: none;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
  }

  .ai-nav-button-{{ ai_gen_id }}:hover {
    background-color: {{ block.settings.nav_button_hover_color }};
  }

  .ai-nav-button-{{ ai_gen_id }}:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .ai-services-image-container-{{ ai_gen_id }} {
    flex: 1;
    background-color: {{ block.settings.image_background_color }};
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
  }

  .ai-service-image-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: opacity 0.3s ease;
  }

  .ai-service-image-placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #f4f4f4;}

  .ai-service-image-placeholder-{{ ai_gen_id }} svg {
    width: 60%;
    height: 60%;
    opacity: 0.3;
  }

  @media screen and (max-width: 768px) {
    .ai-services-section-{{ ai_gen_id }} {
      flex-direction: column;
      min-height: auto;
    }

    .ai-services-list-container-{{ ai_gen_id }} {
      order: 2;
    }

    .ai-services-image-container-{{ ai_gen_id }} {
      order: 1;
      min-height: 250px;
    }

    .ai-service-item-{{ ai_gen_id }} {
      min-height: 60px;
      font-size: {{ block.settings.item_font_size | times: 0.9 }}px;
    }
  }
{% endstyle %}

<services-section-{{ ai_gen_id }}
  class="ai-services-section-{{ ai_gen_id }}"
  {{ block.shopify_attributes }}
>
  <div class="ai-services-list-container-{{ ai_gen_id }}">
    <div class="ai-services-list-wrapper-{{ ai_gen_id }}">
      <div class="ai-services-list-{{ ai_gen_id }}" data-current-page="0">
        {% assign services = 'Events,Promotions & Activations,Films / 3D Animatics,Expos & Exhibitions,Retail & Display,Dealer & Customer Meets,Press Conferences,Product & Services Launches,Design & Communication,Thematic dinners & Parties,Government Services,MICE & destination management,International shows,Concerts & Bollywood shows,Artist & Data Management,Wedding & Special Occasions,Online & Digital Media' | split: ',' %}
        
        {% for service in services %}
          <div 
            class="ai-service-item-{{ ai_gen_id }} {% if forloop.first %}selected{% endif %}"
            data-service-index="{{ forloop.index0 }}"
          >
            {{ service }}
          </div>
        {% endfor %}
      </div>
    </div>
    
    <div class="ai-services-navigation-{{ ai_gen_id }}">
      <button class="ai-nav-button-{{ ai_gen_id }}" data-direction="prev" disabled>
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="15,18 9,12 15,6"></polyline>
        </svg>
      </button>
      <button class="ai-nav-button-{{ ai_gen_id }}" data-direction="next">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="9,18 15,12 9,6"></polyline>
        </svg>
      </button>
    </div>
  </div>

  <div class="ai-services-image-container-{{ ai_gen_id }}">
    {% if block.settings.service_image_1 %}
      <img 
        src="{{ block.settings.service_image_1 | image_url: width: 800}}"
        alt="Events service"
        class="ai-service-image-{{ ai_gen_id }}"
        data-service-index="0"
        loading="lazy"
      >
    {% endif %}
    {% for i in (2..17) %}
      {% assign image_key = 'service_image_' | append: i %}
      {% assign service_image = block.settings[image_key] %}
      {% if service_image %}<img 
          src="{{ service_image | image_url: width: 800 }}"
          alt="Service {{ i }}"
          class="ai-service-image-{{ ai_gen_id }}"
          data-service-index="{{ i | minus: 1 }}"
          style="opacity: 0; position: absolute;"
          loading="lazy"
        >
      {% endif %}
    {% endfor %}<div class="ai-service-image-placeholder-{{ ai_gen_id }}" style="{% if block.settings.service_image_1 %}display: none;{% endif %}">
      {{ 'image' | placeholder_svg_tag }}
    </div>
  </div>
</services-section-{{ ai_gen_id }}>

<script>
  (function() {
    class ServicesSection{{ ai_gen_id }} extends HTMLElement {
      constructor() {
        super();
        this.currentPage = 0;
        this.itemsPerPage = 5;
        this.totalServices = 17;
        this.totalPages = Math.ceil(this.totalServices / this.itemsPerPage);
        this.currentSelectedIndex = 0;}

      connectedCallback() {
        this.servicesList = this.querySelector('.ai-services-list-{{ ai_gen_id }}');
        this.serviceItems = this.querySelectorAll('.ai-service-item-{{ ai_gen_id }}');
        this.serviceImages = this.querySelectorAll('.ai-service-image-{{ ai_gen_id }}');
        this.placeholder = this.querySelector('.ai-service-image-placeholder-{{ ai_gen_id }}');
        this.prevButton = this.querySelector('[data-direction="prev"]');
        this.nextButton = this.querySelector('[data-direction="next"]');

        this.setupEventListeners();
        this.updateNavigation();
        this.showImage(0);
      }

      setupEventListeners() {
        this.serviceItems.forEach((item, index) => {
          item.addEventListener('click', () => {
            this.selectService(index);
          });

          item.addEventListener('mouseenter', () => {
            this.showImage(index);
          });

          item.addEventListener('mouseleave', () => {
            this.showImage(this.currentSelectedIndex);
          });
        });

        this.prevButton.addEventListener('click', () => {
          this.navigatePage(-1);
        });

        this.nextButton.addEventListener('click', () => {
          this.navigatePage(1);
        });
      }

      selectService(index) {
        this.serviceItems.forEach(item => item.classList.remove('selected'));
        this.serviceItems[index].classList.add('selected');
        this.currentSelectedIndex = index;
        this.showImage(index);
      }

      showImage(index) {
        this.serviceImages.forEach((img, imgIndex) => {
          if (imgIndex === index) {
            img.style.opacity = '1';
            img.style.position = 'static';
            this.placeholder.style.display = 'none';
          } else {
            img.style.opacity = '0';
            img.style.position = 'absolute';}
        });

        if (this.serviceImages.length === 0 || !this.serviceImages[index]) {
          this.placeholder.style.display = 'flex';
        }
      }

      navigatePage(direction) {
        const newPage = this.currentPage + direction;
        
        if (newPage >= 0 && newPage < this.totalPages) {
          this.currentPage = newPage;
          const translateY = -this.currentPage * (100 / this.totalPages);
          this.servicesList.style.transform = `translateY(${translateY}%)`;
          this.updateNavigation();
        }
      }

      updateNavigation() {
        this.prevButton.disabled = this.currentPage === 0;
        this.nextButton.disabled = this.currentPage === this.totalPages - 1;
      }
    }

    customElements.define('services-section-{{ ai_gen_id }}', ServicesSection{{ ai_gen_id }});
  })();
</script>

{% schema %}
{
  "name": "Services showcase",
  "settings": [
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "section_height",
      "min": 300,
      "max": 600,
      "step": 20,
      "unit": "px",
      "label": "Section height",
      "default": 400
    },
    {
      "type": "range",
      "id": "border_radius",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "Border radius",
      "default": 8
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Service list"
    },
    {
      "type": "color",
      "id": "list_background_color",
      "label": "List background color",
      "default": "#f8f9fa"
    },
    {
      "type": "range",
      "id": "item_padding",
      "min": 10,
      "max": 30,
      "step": 2,
      "unit": "px",
      "label": "Item padding",
      "default": 20
    },
    {
      "type": "range",
      "id": "item_font_size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Item font size",
      "default": 16
    },
    {
      "type": "color",
      "id": "item_background_color",
      "label": "Item background color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "item_text_color",
      "label": "Item text color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "item_border_color",
      "label": "Item border color",
      "default": "#e9ecef"
    },
    {
      "type": "header",
      "content": "Hover state"
    },
    {
      "type": "color",
      "id": "item_hover_background",
      "label": "Hover background color",
      "default": "#e3f2fd"
    },
    {
      "type": "color",
      "id": "item_hover_text_color",
      "label": "Hover text color",
      "default": "#1976d2"
    },
    {
      "type": "color",
      "id": "item_hover_border_color",
      "label": "Hover border color",
      "default": "#1976d2"
    },
    {
      "type": "header",
      "content": "Selected state"
    },
    {
      "type": "color",
      "id": "item_selected_background",
      "label": "Selected background color",
      "default": "#1976d2"
    },
    {
      "type": "color",
      "id": "item_selected_text_color",
      "label": "Selected text color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "item_selected_border_color",
      "label": "Selected border color",
      "default": "#0d47a1"
    },
    {
      "type": "header",
      "content": "Navigation"
    },
    {
      "type": "color",
      "id": "nav_button_color",
      "label": "Navigation button color",
      "default": "#1976d2"
    },
    {
      "type": "color",
      "id": "nav_button_text_color",
      "label": "Navigation button text color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "nav_button_hover_color",
      "label": "Navigation button hover color",
      "default": "#0d47a1"
    },
    {
      "type": "header",
      "content": "Image area"
    },
    {
      "type": "color",
      "id": "image_background_color",
      "label": "Image background color",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Service images"
    },
    {
      "type": "image_picker",
      "id": "service_image_1",
      "label": "Events image"
    },
    {
      "type": "image_picker",
      "id": "service_image_2",
      "label": "Promotions & Activations image"
    },
    {
      "type": "image_picker",
      "id": "service_image_3",
      "label": "Films / 3D Animatics image"
    },
    {
      "type": "image_picker",
      "id": "service_image_4",
      "label": "Expos & Exhibitions image"
    },
    {
      "type": "image_picker",
      "id": "service_image_5",
      "label": "Retail & Display image"
    },
    {
      "type": "image_picker",
      "id": "service_image_6",
      "label": "Dealer & Customer Meets image"
    },
    {
      "type": "image_picker",
      "id": "service_image_7",
      "label": "Press Conferences image"
    },
    {
      "type": "image_picker",
      "id": "service_image_8",
      "label": "Product & Services Launches image"
    },
    {
      "type": "image_picker",
      "id": "service_image_9",
      "label": "Design & Communication image"
    },
    {
      "type": "image_picker",
      "id": "service_image_10",
      "label": "Thematic dinners & Parties image"
    },
    {
      "type": "image_picker",
      "id": "service_image_11",
      "label": "Government Services image"
    },
    {
      "type": "image_picker",
      "id": "service_image_12",
      "label": "MICE & destination management image"
    },
    {
      "type": "image_picker",
      "id": "service_image_13",
      "label": "International shows image"
    },
    {
      "type": "image_picker",
      "id": "service_image_14",
      "label": "Concerts & Bollywood shows image"
    },
    {
      "type": "image_picker",
      "id": "service_image_15",
      "label": "Artist & Data Management image"
    },
    {
      "type": "image_picker",
      "id": "service_image_16",
      "label": "Wedding & Special Occasions image"
    },
    {
      "type": "image_picker",
      "id": "service_image_17",
      "label": "Online & Digital Media image"
    }
  ],
  "presets": [
    {
      "name": "Services showcase"
    }
  ]
}
{% endschema %}