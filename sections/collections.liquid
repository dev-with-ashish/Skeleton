{% comment %}
  This section is used in the list-collections template to render a list of
  collections.

  https://shopify.dev/docs/storefronts/themes/architecture/templates/collection
{% endcomment %}

<section class="collections-hero" style="background: var(--green900); padding: 3rem 0 2rem 0;">
  <div class="collections-hero__content page-width">
    <h1
      class="collections-title"
      style="font-family: var(--heading-font); color: var(--grey); font-size: 2.5rem; text-align: center; margin-bottom: 1.5rem;"
    >
      Discover Our Collections
    </h1>
    <p
      class="collections-intro"
      style="font-family: var(--body-font); color: var(--grey); font-size: 1.15rem; text-align: center; max-width: 700px; margin: 0 auto 2rem auto; letter-spacing: 0.05em;"
    >
      At Andra's Garden Heaven, we understand the desire for a home that reflects your unique style and provides a
      sanctuary from the everyday. Our handcrafted rattan furniture is more than just decor; it's an investment in
      comfort, sustainability, and timeless design. Each AGH piece is meticulously woven by skilled artisans, ensuring
      unparalleled quality and durability. Choose AGH for furniture that truly feels like home.
    </p>
  </div>
</section>

<section class="collections-section" style="background: var(--white); padding-bottom: 4rem;">
  <div class="collections-grid page-width">
    {% for collection in collections %}
      <a class="collection-card" href="{{ collection.url }}">
        <div class="collection-card__image-wrapper">
          {% if collection.featured_image %}
            {% render 'image',
              class: 'collection-card__image',
              image: collection.featured_image,
              width: 600,
              height: 600,
              crop: 'center'
            %}
          {% else %}
            <div
              class="collection-card__placeholder"
              style="background: var(--gree400); width: 100%; height: 0; padding-bottom: 100%; border-radius: 1rem;"
            ></div>
          {% endif %}
        </div>
        <div class="collection-card__content">
          <h2
            class="collection-card__title"
            style="font-family: var(--heading-font); color: var(--grey); font-size: 1.5rem; margin-bottom: 0.5rem;"
          >
            {{ collection.title }}
          </h2>
          {% if collection.description %}
            <p
              class="collection-card__desc"
              style="font-family: var(--body-font); color: var(--grey); font-size: 1rem; opacity: 0.85;"
            >
              {{ collection.description | strip_html | truncatewords: 15 }}
            </p>
          {% endif %}
        </div>
      </a>
    {% endfor %}
  </div>
</section>

<style>
  .page-width {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
  }

  .collections-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2.5rem;
    margin-top: 2rem;
  }

  .collection-card {
    display: flex;
    flex-direction: column;
    background: var(--green400);
    border-radius: 1.25rem;
    box-shadow: 0 4px 24px rgba(28, 66, 25, 0.08);
    overflow: hidden;
    text-decoration: none;
    transition: box-shadow 0.2s, transform 0.2s;
    min-height: 420px;
  }
  .collection-card:hover {
    box-shadow: 0 8px 32px rgba(28, 66, 25, 0.16);
    transform: translateY(-4px) scale(1.02);
    text-decoration: underline var(--blue);
  }
  .collection-card__image-wrapper {
    width: 100%;
    aspect-ratio: 1/1;
    background: var(--green900);
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
  }
  .collection-card__image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 1rem 1rem 0 0;
  }
  .collection-card__content {
    padding: 2rem 1.5rem 1.5rem 1.5rem;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    flex: 1;
  }
  .collection-card__title {
    margin: 0 0 0.5rem 0;
  }
  .collection-card__desc {
    margin: 0;
  }
  @media (max-width: 768px) {
    .collections-hero {
      padding: 2rem 0 1rem 0;
    }
    .collections-title {
      font-size: 2rem;
    }
    .collections-grid {
      gap: 1.25rem;
    }
    .collection-card__content {
      padding: 1.25rem 1rem 1rem 1rem;
    }
  }
  @media (max-width: 480px) {
    .collections-title {
      font-size: 1.5rem;
    }
    .collections-intro {
      font-size: 1rem;
    }
    .collections-grid {
      grid-template-columns: 1fr;
    }
  }
</style>

{% schema %}
{
  "name": "t:general.collections_grid",
  "settings": [
    {
      "type": "select",
      "id": "grid_item_width",
      "label": "t:labels.grid_item_width",
      "options": [
        { "value": "collections--compact", "label": "t:options.size.small" },
        { "value": "collections--full", "label": "t:options.size.large" }
      ],
      "default": "collections--full"
    },
    {
      "type": "range",
      "id": "grid_gap",
      "label": "t:labels.grid_gap",
      "min": 0,
      "max": 50,
      "step": 5,
      "unit": "px",
      "default": 10
    }
  ],
  "presets": [{ "name": "t:general.collections_grid" }]
}
{% endschema %}
