{% doc %}
  @prompt
    Create a customizable header section with navigation menu, logo placement, and mobile-responsive design give option to select at least 10 different styles of header

{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-header-{{ ai_gen_id }} {
    position: relative;
    background-color: {{ block.settings.background_color }};
    border-bottom: {{ block.settings.border_width }}px solid {{ block.settings.border_color }};
    padding: {{ block.settings.padding_vertical }}px {{ block.settings.padding_horizontal }}px;
    z-index: 100;
  }

  .ai-header-container-{{ ai_gen_id }} {
    max-width: {{ settings.max_page_width }};
    margin: 0 auto;
    position: relative;
  }

  .ai-header-content-{{ ai_gen_id }} {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
  }

  .ai-header-logo-{{ ai_gen_id }} {
    display: flex;
    align-items: center;
    text-decoration: none;
    color: {{ block.settings.text_color }};
    font-size: {{ block.settings.logo_text_size }}px;
    font-weight: 600;
    z-index: 2;
  }

  .ai-header-logo-{{ ai_gen_id }} img {
    max-height: {{ block.settings.logo_height }}px;
    width: auto;
  }

  .ai-header-logo-placeholder-{{ ai_gen_id }} {
    width: {{ block.settings.logo_height }}px;
    height: {{ block.settings.logo_height }}px;
    background-color: #f4f4f4;
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;}

  .ai-header-logo-placeholder-{{ ai_gen_id }} svg {
    width:60%;
    height: 60%;
    opacity: 0.5;
  }

  .ai-header-nav-{{ ai_gen_id }} {
    display: flex;
    align-items: center;
    gap: {{ block.settings.nav_spacing }}px;
  }

  .ai-header-nav-{{ ai_gen_id }} a {
    color: {{ block.settings.text_color }};
    text-decoration: none;
    font-size: {{ block.settings.nav_text_size }}px;
    font-weight: {{ block.settings.nav_font_weight }};
    padding: 8px 12px;
    border-radius: {{ block.settings.nav_border_radius }}px;
    transition: all 0.3s ease;
  }

  .ai-header-nav-{{ ai_gen_id }} a:hover {
    color: {{ block.settings.text_hover_color }};
    background-color: {{ block.settings.nav_hover_bg }};
  }

  .ai-header-mobile-toggle-{{ ai_gen_id }} {
    display: none;
    background: none;
    border: none;
    color: {{ block.settings.text_color }};
    cursor: pointer;
    padding: 8px;
    z-index: 3;
  }

  .ai-header-mobile-toggle-{{ ai_gen_id }} svg {
    width: 24px;
    height: 24px;
  }

  .ai-header-mobile-nav-{{ ai_gen_id }} {
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background-color: {{ block.settings.background_color }};
    border-top: 1px solid {{ block.settings.border_color }};
    padding: 20px;
    flex-direction: column;
    gap: 16px;
    z-index: 2;
  }

  .ai-header-mobile-nav-{{ ai_gen_id }}.active {
    display: flex;
  }

  .ai-header-mobile-nav-{{ ai_gen_id }} a {
    color: {{ block.settings.text_color }};
    text-decoration: none;
    font-size: {{ block.settings.nav_text_size }}px;
    padding: 12px 0;
    border-bottom: 1px solid rgba(0,0,0,0.1);
  }

  {% case block.settings.header_style %}
    {% when 'centered' %}
      .ai-header-content-{{ ai_gen_id }} {
        flex-direction: column;
        gap: 20px;
        text-align: center;
      }.ai-header-nav-{{ ai_gen_id }} {
        justify-content: center;
      }
    {% when 'logo_left_nav_right' %}
      .ai-header-content-{{ ai_gen_id }} {
        justify-content: space-between;
      }{% when 'logo_right_nav_left' %}
      .ai-header-content-{{ ai_gen_id }} {
        justify-content: space-between;
        flex-direction: row-reverse;
      }
    {% when 'logo_center_nav_sides' %}
      .ai-header-content-{{ ai_gen_id }} {
        display: grid;
        grid-template-columns: 1fr auto 1fr;
        align-items: center;
      }
      .ai-header-logo-{{ ai_gen_id }} {
        grid-column: 2;
        justify-self: center;
      }
      .ai-header-nav-{{ ai_gen_id }} {
        grid-column: 3;
        justify-self: end;
      }
    {% when 'stacked_center' %}
      .ai-header-content-{{ ai_gen_id }} {
        flex-direction: column;
        gap: 15px;
        text-align: center;
      }
      .ai-header-nav-{{ ai_gen_id }} {
        justify-content: center;flex-wrap: wrap;
      }
    {% when 'minimal_left' %}
      .ai-header-content-{{ ai_gen_id }} {
        justify-content: flex-start;
        gap: 40px;
      }
    {% when 'minimal_right' %}
      .ai-header-content-{{ ai_gen_id }} {
        justify-content: flex-end;
        gap: 40px;
        flex-direction: row-reverse;
      }
    {% when 'split_nav' %}
      .ai-header-content-{{ ai_gen_id }} {
        display: grid;
        grid-template-columns: 1fr auto 1fr;
        align-items: center;
        gap: 20px;
      }
      .ai-header-logo-{{ ai_gen_id }} {
        grid-column: 2;
        justify-self: center;
      }
      .ai-header-nav-left-{{ ai_gen_id }} {
        grid-column: 1;
        justify-self: start;
      }
      .ai-header-nav-right-{{ ai_gen_id }} {
        grid-column: 3;
        justify-self: end;
      }
    {% when 'overlay' %}
      .ai-header-{{ ai_gen_id }} {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        background-color: transparent;
        border-bottom: none;
        z-index: 100;
      }
      .ai-header-content-{{ ai_gen_id }} {
        justify-content: space-between;
      }
    {% when 'boxed' %}
      .ai-header-container-{{ ai_gen_id }} {
        background-color: {{ block.settings.boxed_bg_color }};
        border-radius: {{ block.settings.boxed_border_radius }}px;
        padding: 15px 30px;
        margin: 20px auto;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      }
      .ai-header-content-{{ ai_gen_id }} {
        justify-content: space-between;
      }{% endcase %}

  @media screen and (max-width: 768px) {
    .ai-header-nav-{{ ai_gen_id }} {
      display: none;
    }
    
    .ai-header-mobile-toggle-{{ ai_gen_id }} {
      display: block;
    }

    .ai-header-content-{{ ai_gen_id }} {
      flex-direction: row !important;
      justify-content: space-between !important;
      grid-template-columns: none !important;
      display: flex !important;}

    .ai-header-logo-{{ ai_gen_id }} {
      grid-column: unset !important;
      justify-self: unset !important;
    }

    .ai-header-nav-left-{{ ai_gen_id }},
    .ai-header-nav-right-{{ ai_gen_id }} {
      display: none;
    }

    {% if block.settings.header_style == 'boxed' %}
      .ai-header-container-{{ ai_gen_id }} {
        margin: 10px;padding: 15px 20px;}
    {% endif %}
  }
{% endstyle %}

<header-navigation-{{ ai_gen_id }}
  class="ai-header-{{ ai_gen_id }}"
  {{ block.shopify_attributes }}
>
  <div class="ai-header-container-{{ ai_gen_id }}">
    <div class="ai-header-content-{{ ai_gen_id }}"><a href="{{ routes.root_url }}" class="ai-header-logo-{{ ai_gen_id }}">
        {% if block.settings.logo %}
          <img
            src="{{ block.settings.logo | image_url: width: 400 }}"
            alt="{{ shop.name | escape }}"
            width="{{ block.settings.logo.width }}"
            height="{{ block.settings.logo.height }}"
            loading="lazy"
          >
        {% elsif block.settings.logo_text != blank %}
          {{ block.settings.logo_text }}
        {% else %}
          <div class="ai-header-logo-placeholder-{{ ai_gen_id }}">
            {{ 'image' | placeholder_svg_tag }}
          </div>
        {% endif %}
      </a>

      {% if block.settings.header_style == 'split_nav' %}
        <nav class="ai-header-nav-{{ ai_gen_id }} ai-header-nav-left-{{ ai_gen_id }}">
          {% for i in (1..5) %}
            {% assign link_key = 'nav_link_' | append: i %}
            {% assign text_key = 'nav_text_' | append: i %}
            {% if block.settings[link_key] != blank and block.settings[text_key] != blank %}
              <a href="{{ block.settings[link_key] }}">{{ block.settings[text_key] }}</a>
            {% endif %}
          {% endfor %}
        </nav>

        <nav class="ai-header-nav-{{ ai_gen_id }} ai-header-nav-right-{{ ai_gen_id }}">
          {% for i in (6..10) %}
            {% assign link_key = 'nav_link_' | append: i %}
            {% assign text_key = 'nav_text_' | append: i %}
            {% if block.settings[link_key] != blank and block.settings[text_key] != blank %}
              <a href="{{ block.settings[link_key] }}">{{ block.settings[text_key] }}</a>
            {% endif %}
          {% endfor %}
        </nav>
      {% else %}
        <nav class="ai-header-nav-{{ ai_gen_id }}">
          {% for i in (1..10) %}
            {% assign link_key = 'nav_link_' | append: i %}
            {% assign text_key = 'nav_text_' | append: i %}
            {% if block.settings[link_key] != blank and block.settings[text_key] != blank %}
              <a href="{{ block.settings[link_key] }}">{{ block.settings[text_key] }}</a>
            {% endif %}
          {% endfor %}
        </nav>
      {% endif %}

      <button
        class="ai-header-mobile-toggle-{{ ai_gen_id }}"
        aria-label="Toggle mobile menu"
        aria-expanded="false">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </button>
    </div><nav class="ai-header-mobile-nav-{{ ai_gen_id }}">
      {% for i in (1..10) %}
        {% assign link_key = 'nav_link_' | append: i %}
        {% assign text_key = 'nav_text_' | append: i %}
        {% if block.settings[link_key] != blank and block.settings[text_key] != blank %}
          <a href="{{ block.settings[link_key] }}">{{ block.settings[text_key] }}</a>
        {% endif %}
      {% endfor %}
    </nav>
  </div>
</header-navigation-{{ ai_gen_id }}>

<script>
  (function() {
    class HeaderNavigation{{ ai_gen_id }} extends HTMLElement {
      constructor() {
        super();
      }

      connectedCallback() {
        this.mobileToggle = this.querySelector('.ai-header-mobile-toggle-{{ ai_gen_id }}');
        this.mobileNav = this.querySelector('.ai-header-mobile-nav-{{ ai_gen_id }}');
        this.setupEventListeners();
      }

      setupEventListeners() {
        if (this.mobileToggle && this.mobileNav) {
          this.mobileToggle.addEventListener('click', () => {
            const isActive = this.mobileNav.classList.contains('active');
            this.mobileNav.classList.toggle('active');
            this.mobileToggle.setAttribute('aria-expanded', !isActive);
          });document.addEventListener('click', (event) => {
            if (!this.contains(event.target)) {
              this.mobileNav.classList.remove('active');
              this.mobileToggle.setAttribute('aria-expanded', 'false');
            }
          });
        }
      }
    }

    customElements.define('header-navigation-{{ ai_gen_id }}', HeaderNavigation{{ ai_gen_id }});
  })();
</script>

{% schema %}
{
  "name": "Custom Header",
  "tag": null,
  "settings": [
    {
      "type": "header",
      "content": "Header Style"
    },
    {
      "type": "select",
      "id": "header_style",
      "label": "Header layout",
      "options": [
        {
          "value": "logo_left_nav_right",
          "label": "Logo left, nav right"
        },
        {
          "value": "logo_right_nav_left",
          "label": "Logo right, nav left"
        },
        {
          "value": "centered",
          "label": "Centered logo and nav"
        },
        {
          "value": "logo_center_nav_sides",
          "label": "Logo center, nav right"
        },
        {
          "value": "stacked_center",
          "label": "Stacked center"
        },
        {
          "value": "minimal_left",
          "label": "Minimal left aligned"
        },
        {
          "value": "minimal_right",
          "label": "Minimal right aligned"
        },
        {
          "value": "split_nav",
          "label": "Split navigation"
        },
        {
          "value": "overlay",
          "label": "Overlay transparent"
        },
        {
          "value": "boxed",
          "label": "Boxed container"
        }
      ],
      "default": "logo_left_nav_right"
    },
    {
      "type": "header",
      "content": "Logo"
    },
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo image"
    },
    {
      "type": "text",
      "id": "logo_text",
      "label": "Logo text",
      "default": "Your Store"
    },
    {
      "type": "range",
      "id": "logo_height",
      "min": 20,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Logo height",
      "default": 40
    },
    {
      "type": "range",
      "id": "logo_text_size",
      "min": 16,
      "max": 48,
      "step": 2,
      "unit": "px",
      "label": "Logo text size",
      "default": 24
    },
    {
      "type": "header",
      "content": "Navigation Links"
    },
    {
      "type": "text",
      "id": "nav_text_1",
      "label": "Navigation text 1",
      "default": "Home"
    },
    {
      "type": "url",
      "id": "nav_link_1",
      "label": "Navigation link 1"
    },
    {
      "type": "text",
      "id": "nav_text_2",
      "label": "Navigation text 2",
      "default": "Shop"
    },
    {
      "type": "url",
      "id": "nav_link_2",
      "label": "Navigation link 2"
    },
    {
      "type": "text",
      "id": "nav_text_3",
      "label": "Navigation text 3",
      "default": "About"
    },
    {
      "type": "url",
      "id": "nav_link_3",
      "label": "Navigation link 3"
    },
    {
      "type": "text",
      "id": "nav_text_4",
      "label": "Navigation text 4",
      "default": "Contact"
    },
    {
      "type": "url",
      "id": "nav_link_4",
      "label": "Navigation link 4"
    },
    {
      "type": "text",
      "id": "nav_text_5",
      "label": "Navigation text 5"
    },
    {
      "type": "url",
      "id": "nav_link_5",
      "label": "Navigation link 5"
    },
    {
      "type": "text",
      "id": "nav_text_6",
      "label": "Navigation text 6"
    },
    {
      "type": "url",
      "id": "nav_link_6",
      "label": "Navigation link 6"
    },
    {
      "type": "text",
      "id": "nav_text_7",
      "label": "Navigation text 7"
    },
    {
      "type": "url",
      "id": "nav_link_7",
      "label": "Navigation link 7"
    },
    {
      "type": "text",
      "id": "nav_text_8",
      "label": "Navigation text 8"
    },
    {
      "type": "url",
      "id": "nav_link_8",
      "label": "Navigation link 8"
    },
    {
      "type": "text",
      "id": "nav_text_9",
      "label": "Navigation text 9"
    },
    {
      "type": "url",
      "id": "nav_link_9",
      "label": "Navigation link 9"
    },
    {
      "type": "text",
      "id": "nav_text_10",
      "label": "Navigation text 10"
    },
    {
      "type": "url",
      "id": "nav_link_10",
      "label": "Navigation link 10"
    },
    {
      "type": "header",
      "content": "Navigation Style"
    },
    {
      "type": "range",
      "id": "nav_text_size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Navigation text size",
      "default": 16
    },
    {
      "type": "select",
      "id": "nav_font_weight",
      "label": "Navigation font weight",
      "options": [
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi Bold"
        },
        {
          "value": "700",
          "label": "Bold"
        }
      ],
      "default": "400"
    },
    {
      "type": "range",
      "id": "nav_spacing",
      "min": 10,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Navigation spacing",
      "default": 20
    },
    {
      "type": "range",
      "id": "nav_border_radius",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "Navigation border radius",
      "default": 4
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "text_hover_color",
      "label": "Text hover color",
      "default": "#666666"
    },
    {
      "type": "color",
      "id": "nav_hover_bg",
      "label": "Navigation hover background",
      "default": "#f5f5f5"
    },
    {
      "type": "color",
      "id": "border_color",
      "label": "Border color",
      "default": "#e5e5e5"
    },
    {
      "type": "color",
      "id": "boxed_bg_color",
      "label": "Boxed background color",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "padding_vertical",
      "min": 10,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Vertical padding",
      "default": 20
    },
    {
      "type": "range",
      "id": "padding_horizontal",
      "min": 10,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Horizontal padding",
      "default": 20
    },
    {
      "type": "range",
      "id": "border_width",
      "min": 0,
      "max": 5,
      "step": 1,
      "unit": "px",
      "label": "Border width",
      "default": 1
    },
    {
      "type": "range",
      "id": "boxed_border_radius",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "label": "Boxed border radius",
      "default": 12
    }
  ],
  "presets": [
    {
      "name": "Custom Header"
    }
  ]
}
{% endschema %}